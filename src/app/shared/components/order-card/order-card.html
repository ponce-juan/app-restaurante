<div class="card order-card"  (click)="updateOrder()" [ngClass]="order.status.toLowerCase()">
    <div class="card-body">
    <h6 class="card-title">Orden: #{{order.id}}</h6>
    <p class="card-text"><strong>Tipo:</strong> {{order.type.type}}</p>
    <p class="card-text"><strong>Estado:</strong> {{order.status}}</p>
    </div>
</div>

<!-- MODAL FORMULARIO -->
<!-- <div class="modal fade" id="quantityModal" tabindex="-1" aria-labelledby="quantityModal" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">

        <div class="modal-header bg-dark text-white">
            <h5 class="modal-title">Modificar orden</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body" [formGroup]="updateForm"> -->
            <!-- Tabla para mostrar los items de la orden
            <label class="form-label">Seleccionar producto</label>
                <table class="table table-hover table-sm ">
                <thead class="table-dark">
                    <tr>
                    <th>Nombre</th>
                    <th>Precio</th>
                    <th>Stock</th>
                    <th>Categor√≠a</th>
                    </tr>
                </thead>
                <tbody>
                    @if(loading()){
                        <tr><td colspan="4">Cargando productos...</td></tr>
                    }
                    @if(errormsg()){
                        <tr><td colspan="4">{{errormsg()}}</td></tr>
                    }
                    @if(!loading() && !errormsg()){
                        @for(p of this.productService.products(); track $index){
                            <tr (click)="onSelectProduct(p)" 
                                [class.table-active.table-success]="selectedProduct?.id === p.id"
                                [class.table-danger]="p.stock === 0"
                                data-bs-toggle="modal"
                                data-bs-target="#quantityModal">
                                <td>{{ p.name }}</td>
                                <td>$ {{ p.price }}</td>
                                <td>{{ p.stock }}</td>
                                <td>{{ p.category }}</td>
                            </tr>
                        }
                    }
                </tbody>
                </table>
            <p class="fw-bold m-0">{{selectedProduct?.name}}</p>
            <p class="text-muted m-0">Precio: ${{selectedProduct?.price}}</p>
            <p class="text-muted">Stock disponible: {{selectedProduct?.stock}}</p> -->

            <!-- <label class="form-label">Cantidad</label>
            <input type="number" min="1" class="form-control" formControlName="quantity">
        </div>

        <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button class="btn btn-primary" (click)="saveOrderChanges()" data-bs-dismiss="modal">Guardar cambios</button>
        </div>

    </div>
    </div>
</div> -->
